<!DOCTYPE html>
<!-- HTML TEMPLATE -->
<html>

<head>
  <meta charset="UTF-8">
  <meta name="description" content="Web tutorial">
  <meta name="keywords" content="HTML, CSS, XML, JavaScript">
  <meta name="author" content="Horváth Gábor">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0" />
  <meta http-equiv="cache-control" content="max-age=0" />
  <!-- <meta http-equiv="refresh" content="15"> -->
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
  <link rel="stylesheet" href="{{ url_for('work.static', filename='work.css') }}">
  <title>Darabszám</title>
  <script src="{{ url_for('work.static', filename='work.js') }}"></script>
  <style>
    td:nth-last-child(1) {
      color: black;
      background-color: yellow;
      border: 2px solid;
    }

    .dropdown-title {
      border-style: solid;
      border-radius: 10px 10px 0 10px;
      width: fit-content;
      padding: 3px;
    }

    .dropdown-content {
      display: block;
    }

    .dropdown-title:hover+.dropdown-content {
      display: block;
    }
  </style>

</head>

<body>

  <label>DB:</label>
  <input type="number" id="max" value="527">
  <br>
  <br>
  <input id="btn560" type="button" value="560" onclick="onclickbtn(this)">
  <input id="btn527" type="button" value="527" onclick="onclickbtn(this)">
  <span>Taktidő = <span id="taktido"></span> s</span>
  <div>
    <p>Darabszám van: <input id='dbvan' type='text' size='4' oninput='allas()' onclick='this.value=""'></p>
    <p>Állásidő: <span id='allas'></span> perc</p>
  </div>
  <h1 style="text-align: center; font-family: digital; font-size:70px; padding: 0px; margin:0px"> <span
      id="currentdb"></span>/<span id="db"></span></h1>

  <script>
    function onclickbtn(elem) {
      console.log(elem.value);
      //setCookie("darabszam" ,elem.value,30);
      document.getElementById("max").value = elem.value;
      document.getElementById("currentdb").innerHTML = elem.value;
    }
  </script>
  <hr>
  <div>
    <p><span style="font-family: digital;" id="date"></span></p>
    <p><span id="week"></span> <span id="weeknumber"></span></p>
  </div>

  <h2>Korrekciók:</h2>
  <div class="dropdown">
    <h3 class="dropdown-title">EVO 4<i class="fa fa-caret-down"></i></h3>
    <div class="dropdown-content">
      <table style="clear: both; width: 75%;">
        <caption>
          <h3>EVO 4</h3>
        </caption>
        <tr>
          <th>Gép</th>
          <th>Protokol</th>
          <th>Korrekció</th>
        </tr>
        <tr>
          <td>AF90</td>
          <td>&#10133</td>
          <td>&#10133</td>
        </tr>
        <tr>
          <td>AF80</td>
          <td>&#10133</td>
          <td>&#10133</td>
        </tr>
        <tr>
          <td>AF60-70</td>
          <td>&#10133</td>
          <td>&#10133</td>
        </tr>
        <tr>
          <td>AF50</td>
          <td>&#10133</td>
          <td>&#10134</td>
        </tr>
      </table>
    </div>
  </div>
  <div class="dropdown">
    <h3 class="dropdown-title">GEN 3<i class="fa fa-caret-down"></i></h3>
    <div class="dropdown-content">
      <table style="clear: both; width: 75%;">
        <caption>
          <h3>GEN 3</h3>
        </caption>
        <tr>
          <th>Gép</th>
          <th>Protokol</th>
          <th>Korrekció</th>
        </tr>
        <tr>
          <td>AF90</td>
          <td>&#10133</td>
          <td>&#10134</td>
        </tr>
        <tr>
          <td>AF80</td>
          <td>&#10133</td>
          <td>&#10134</td>
        </tr>
        <tr>
          <td>AF60-70</td>
          <td>&#10133</td>
          <td>&#10133</td>
        </tr>
        <tr>
          <td>AF50</td>
          <td>&#10133</td>
          <td>&#10133</td>
        </tr>
      </table>
    </div>
  </div>
  <div class="dropdown">
    <h3 class="dropdown-title">B CYCLE <i class="fa fa-caret-down"></i></h3>
    <div class="dropdown-content">
      <table style="clear: both; width: 75%;">
        <caption>
          <h3>B CYCLE</h3>
        </caption>
        <tr>
          <th>Gép</th>
          <th>Protokol</th>
          <th>Korrekció</th>
        </tr>
        <tr>
          <td>AF90</td>
          <td>&#10133</td>
          <td>&#10133</td>
        </tr>
        <tr>
          <td>AF80</td>
          <td>&#10133</td>
          <td>&#10133</td>
        </tr>
        <tr>
          <td>AF60-70</td>
          <td>&#10133</td>
          <td>&#10133</td>
        </tr>
        <tr>
          <td>AF50</td>
          <td>&#10133</td>
          <td>&#10134</td>
        </tr>
      </table>
    </div>
  </div>
  <br>
  <hr>
  <br>
  <div class="dropdown">
    <h3 class="dropdown-title">Meghúzási nyomatékok: <i class="fa fa-caret-down"></i></h3>
    <div class="dropdown-content">
      <table>
        <caption>
          <h3>Meghúzási nyomatékok</h3>
        </caption>
        <thead>
          <th>Lapka</th>
          <th>Nyomaték</th>
        </thead>
        <tbody>
          <tr>
            <td>AF10 furat lapkák</td>
            <td>1 Nm</td>
          </tr>
          <tr>
            <td>AF20 golyópája lapkák</td>
            <td>1 Nm</td>
          </tr>
          <tr>
            <td>AF30 simító lapkák</td>
            <td>1 Nm</td>
          </tr>
          <tr>
            <td>AF10-20 simító lapka</td>
            <td>3 Nm</td>
          </tr>
          <tr>
            <td>AF10-20-30 nagyoló lapka</td>
            <td>4 Nm</td>
          </tr>
          <tr>
            <td>AF30 beszúró lapka</td>
            <td>4 Nm</td>
          </tr>
          <tr>
            <td>AF50 lapka</td>
            <td>4 Nm</td>
          </tr>
          <tr>
            <td>HSK-40 (AF60-70)</td>
            <td>7 Nm</td>
          </tr>
          <tr>
            <td>HSK-63 (AF50)</td>
            <td>20 Nm</td>
          </tr>
          <tr>
            <td>Capto-4 (lapkás szerszámok)</td>
            <td>50 Nm</td>
          </tr>
          <tr>
            <td>Capto-5 (nincs a soron)</td>
            <td>70 Nm</td>
          </tr>
          <tr>
            <td>köszörűkorong csavarok<br>
              M6 12.9 MN 02060098</td>
            <td>25 Nm</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
<script>
  function refresh() {
    let dbszam = document.getElementById("max").value;
    document.getElementById("currentdb").innerHTML = dbszam;
    let date = new Date();
    document.getElementById("db").innerHTML = db12(dbszam);
    document.getElementById("date").innerHTML = date.toLocaleString();
    document.getElementById("week").innerHTML = weekdays[date.getDay()];
    document.getElementById("weeknumber").innerHTML = date.getWeek() + ". hét";
    document.getElementById("taktido").innerHTML = Math.ceil(720 * 60 / dbszam);
    allas();
  }
  function allas() {
    let dbkell = parseInt(document.getElementById("db").innerHTML);
    let dbvan = parseInt(document.getElementById("dbvan").value);
    let taktido = parseInt(document.getElementById("taktido").innerHTML);
    document.getElementById("allas").innerHTML = Math.ceil((dbkell - dbvan) * taktido / 60);
  }
  setInterval(refresh, 1000);
</script>

</html>